# 開発日誌 - 2026-02-12

## 実施したタスク
- **Gemini SDK の移行**: 非推奨の `google-generativeai` から新しい `google-genai` (Google AI Python SDK) への移行を完了。
    - `pyproject.toml` の依存関係を更新。
    - `src/agent/agent.py` をリファクタリングし、`genai.Client` および `chats.create` を使用するように変更。
    - `src/agent/manager.py` の `decompose_task` を新SDK仕様に更新。
    - ユーティリティスクリプト `test_api_connection.py` および `check_models.py` を更新。
    - 全てのユニットテスト (`test_agent.py`, `test_manager.py`, `test_architect.py`, `test_coder.py`) を新SDKのモックを使用するように更新。
    - 全19件のテストがパスすることを確認。

- **Manager タスク分解機能の実装**: 本日未明に完了。
- **Coder 相談スキルの実装**: 本日未明に完了。

## 技術メモ
- 新しいSDK (`google-genai`) では、`Client` オブジェクトと `GenerateContentConfig` を使用して設定を行う。
- 自動関数呼び出しを無効にするには、`types.AutomaticFunctionCallingConfig(disable=True)` を指定する必要がある。
- レスポンス構造が `response.parts` から `response.candidates[0].content.parts` に変更された。

## 課題と解決
- `uv.lock` との整合性が一時的に失われていたため、コンテナ内で `uv lock` を実行して修正した。
- 開発日誌が英語で記述されていたため、`.cursorrules` に従い日本語に修正した。
